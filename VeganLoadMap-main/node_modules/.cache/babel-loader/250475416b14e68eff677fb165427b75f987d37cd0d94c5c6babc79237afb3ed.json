{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  methods: {\n    requestPay: function () {\n      const {\n        IMP\n      } = window;\n      IMP.init('imp70364071');\n      IMP.request_pay({\n        // param\n        pg: \"kcp.INIBillTst_inicis\",\n        pay_method: \"card\",\n        merchant_uid: \"vrm_wando_0616_20231031_2\",\n        // 매 거래마다 바뀌어야함\n        name: \"wando 결제테스트\",\n        amount: 50,\n        buyer_email: \"ourbaby7@nate.com\",\n        buyer_name: \"김도완\",\n        buyer_tel: \"010-1234-5678\",\n        buyer_addr: \"서울특별시 강남구 신사동\",\n        buyer_postcode: \"01181\"\n      }, rsp => {\n        // callback\n        if (rsp.success) {\n          console.log(\"rsp.success => \" + rsp);\n\n          // axios로 HTTP 요청\n          const paymentData = {\n            payment_id: rsp.imp_uid,\n            storename: rsp.merchant_uid,\n            userid: 'wandodododododo',\n            price: rsp.amount,\n            status: 123\n          };\n          axios.post(\"/api/payment\", paymentData).then(data => {\n            // 서버 결제 API 성공시 로직\n            console.log(data);\n          }).catch(error => {\n            // 서버 결제 API 실패시 로직\n            console.log(error);\n            console.log(error.toString());\n            alert(\"서버 결제 API 요청 실패\");\n          });\n        } else {\n          console.log(\"rsp.failed\" + rsp);\n          console.log(\"rsp.failed\" + rsp.error_msg);\n          alert(\"결제에 실패했습니다. 에러 내용 : \" + rsp.error_msg);\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","methods","requestPay","IMP","window","init","request_pay","pg","pay_method","merchant_uid","name","amount","buyer_email","buyer_name","buyer_tel","buyer_addr","buyer_postcode","rsp","success","console","log","paymentData","payment_id","imp_uid","storename","userid","price","status","post","then","data","catch","error","toString","alert","error_msg"],"sources":["C:\\Ucamp\\VeganProject\\VeganLoadMap-main\\VeganLoadMap-main\\src\\components\\payment\\Payment.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <button @click=\"requestPay\">결제하기</button>\r\n    <!-- 결제하기 버튼 생성 -->\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  methods: {\r\n    requestPay: function () {\r\n\r\n      const { IMP } = window;\r\n\r\n      IMP.init('imp70364071');\r\n\r\n      IMP.request_pay({ // param\r\n        pg: \"kcp.INIBillTst_inicis\",\r\n        pay_method: \"card\",\r\n        merchant_uid: \"vrm_wando_0616_20231031_2\",  // 매 거래마다 바뀌어야함\r\n        name: \"wando 결제테스트\",\r\n        amount: 50,\r\n        buyer_email: \"ourbaby7@nate.com\",\r\n        buyer_name: \"김도완\",\r\n        buyer_tel: \"010-1234-5678\",\r\n        buyer_addr: \"서울특별시 강남구 신사동\",\r\n        buyer_postcode: \"01181\"\r\n      }, rsp => { // callback\r\n        if (rsp.success) {\r\n          console.log(\"rsp.success => \" + rsp)\r\n\r\n          // axios로 HTTP 요청\r\n          const paymentData = {\r\n            payment_id: rsp.imp_uid,\r\n            storename: rsp.merchant_uid,\r\n            userid: 'wandodododododo',\r\n            price: rsp.amount,\r\n            status: 123,\r\n          };\r\n\r\n              axios.post(\"/api/payment\", paymentData)\r\n              .then((data) => {\r\n                // 서버 결제 API 성공시 로직\r\n                console.log(data)\r\n              })\r\n              .catch((error) => {\r\n                // 서버 결제 API 실패시 로직\r\n                console.log(error)\r\n                console.log(error.toString())\r\n                alert(\"서버 결제 API 요청 실패\");\r\n              });\r\n\r\n\r\n        } else {\r\n\r\n          console.log(\"rsp.failed\" + rsp)\r\n          console.log(\"rsp.failed\" + rsp.error_msg)\r\n          alert(\"결제에 실패했습니다. 에러 내용 : \" + rsp.error_msg)\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n</script>"],"mappings":"AASA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,OAAO,EAAE;IACPC,UAAU,EAAE,SAAAA,CAAA,EAAY;MAEtB,MAAM;QAAEC;MAAI,IAAIC,MAAM;MAEtBD,GAAG,CAACE,IAAI,CAAC,aAAa,CAAC;MAEvBF,GAAG,CAACG,WAAW,CAAC;QAAE;QAChBC,EAAE,EAAE,uBAAuB;QAC3BC,UAAU,EAAE,MAAM;QAClBC,YAAY,EAAE,2BAA2B;QAAG;QAC5CC,IAAI,EAAE,aAAa;QACnBC,MAAM,EAAE,EAAE;QACVC,WAAW,EAAE,mBAAmB;QAChCC,UAAU,EAAE,KAAK;QACjBC,SAAS,EAAE,eAAe;QAC1BC,UAAU,EAAE,eAAe;QAC3BC,cAAc,EAAE;MAClB,CAAC,EAAEC,GAAE,IAAK;QAAE;QACV,IAAIA,GAAG,CAACC,OAAO,EAAE;UACfC,OAAO,CAACC,GAAG,CAAC,iBAAgB,GAAIH,GAAG;;UAEnC;UACA,MAAMI,WAAU,GAAI;YAClBC,UAAU,EAAEL,GAAG,CAACM,OAAO;YACvBC,SAAS,EAAEP,GAAG,CAACR,YAAY;YAC3BgB,MAAM,EAAE,iBAAiB;YACzBC,KAAK,EAAET,GAAG,CAACN,MAAM;YACjBgB,MAAM,EAAE;UACV,CAAC;UAEG3B,KAAK,CAAC4B,IAAI,CAAC,cAAc,EAAEP,WAAW,EACrCQ,IAAI,CAAEC,IAAI,IAAK;YACd;YACAX,OAAO,CAACC,GAAG,CAACU,IAAI;UAClB,CAAC,EACAC,KAAK,CAAEC,KAAK,IAAK;YAChB;YACAb,OAAO,CAACC,GAAG,CAACY,KAAK;YACjBb,OAAO,CAACC,GAAG,CAACY,KAAK,CAACC,QAAQ,CAAC,CAAC;YAC5BC,KAAK,CAAC,iBAAiB,CAAC;UAC1B,CAAC,CAAC;QAGR,OAAO;UAELf,OAAO,CAACC,GAAG,CAAC,YAAW,GAAIH,GAAG;UAC9BE,OAAO,CAACC,GAAG,CAAC,YAAW,GAAIH,GAAG,CAACkB,SAAS;UACxCD,KAAK,CAAC,sBAAqB,GAAIjB,GAAG,CAACkB,SAAS;QAC9C;MACF,CAAC,CAAC;IACJ;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}