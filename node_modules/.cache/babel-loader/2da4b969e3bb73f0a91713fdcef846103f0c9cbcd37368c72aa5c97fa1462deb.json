{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  id: \"contet\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"siteNotice\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_3 = {\n  key: 0,\n  id: \"firstHeading\",\n  class: \"firstHeading\"\n};\nconst _hoisted_4 = {\n  id: \"bodyContent\"\n};\nconst _hoisted_5 = {\n  key: 0\n};\nconst _hoisted_6 = {\n  key: 1\n};\nconst _hoisted_7 = [\"src\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_InfoWindow = _resolveComponent(\"InfoWindow\");\n  const _component_Marker = _resolveComponent(\"Marker\");\n  const _component_MarkerCluster = _resolveComponent(\"MarkerCluster\");\n  const _component_GoogleMap = _resolveComponent(\"GoogleMap\");\n  return _openBlock(), _createBlock(_component_GoogleMap, {\n    \"api-key\": \"AIzaSyB21eMRg-uMRk-i7r27DPDkntXbR5_kvnk\",\n    style: {\n      \"width\": \"100%\",\n      \"height\": \"500px\"\n    },\n    center: _ctx.center,\n    zoom: 15,\n    language: \"kor\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_MarkerCluster, null, {\n      default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.locations, (location, i) => {\n        return _openBlock(), _createBlock(_component_Marker, {\n          options: {\n            position: location\n          },\n          key: i,\n          onClick: _cache[0] || (_cache[0] = $event => _ctx.showPlaceInfo())\n        }, {\n          default: _withCtx(() => [_createVNode(_component_InfoWindow, null, {\n            default: _withCtx(() => [_createCommentVNode(\" Marker 클릭하면 나오는 부분 \"), _createElementVNode(\"div\", _hoisted_1, [_hoisted_2, _createCommentVNode(\"  \"), _ctx.detailPlaceInfo ? (_openBlock(), _createElementBlock(\"h1\", _hoisted_3, _toDisplayString(this.detailPlaceInfo.name), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 가게 이름 \"), _createElementVNode(\"div\", _hoisted_4, [_ctx.detailPlaceInfo ? (_openBlock(), _createElementBlock(\"p\", _hoisted_5, [_createCommentVNode(\" 도로명 주소 formatted_address \"), _createTextVNode(\" \" + _toDisplayString(this.detailPlaceInfo.formatted_address), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), _ctx.detailPlaceInfo ? (_openBlock(), _createElementBlock(\"p\", _hoisted_6, [_createCommentVNode(\" 별점 rating \"), _createTextVNode(\" \" + _toDisplayString(this.detailPlaceInfo.rating), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", null, [_createCommentVNode(\" 이미지 img \"), _createElementVNode(\"img\", {\n              src: _ctx.generateImgUrl\n            }, null, 8 /* PROPS */, _hoisted_7)])])])]),\n            _: 1 /* STABLE */\n          })]),\n\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"options\"]);\n      }), 128 /* KEYED_FRAGMENT */))]),\n\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"center\"]);\n}","map":{"version":3,"names":["id","_createElementVNode","class","_createBlock","_component_GoogleMap","style","center","_ctx","zoom","language","_createVNode","_component_MarkerCluster","_createElementBlock","_Fragment","_renderList","locations","location","i","_component_Marker","options","position","key","onClick","_cache","$event","showPlaceInfo","_component_InfoWindow","_createCommentVNode","_hoisted_1","_hoisted_2","detailPlaceInfo","_hoisted_3","_toDisplayString","name","_hoisted_4","_hoisted_5","formatted_address","_hoisted_6","rating","src","generateImgUrl","_hoisted_7"],"sources":["C:\\Ucamp\\VeganProject\\VeganLoadMap\\src\\components\\Map.vue"],"sourcesContent":["<template>\r\n  <GoogleMap\r\n      api-key=\"AIzaSyB21eMRg-uMRk-i7r27DPDkntXbR5_kvnk\"\r\n      style=\"width: 100%; height: 500px\"\r\n      :center=\"center\"\r\n      :zoom=\"15\"\r\n      language=\"kor\"\r\n  >\r\n    <MarkerCluster>\r\n      <Marker v-for=\"(location, i) in locations\" :options=\"{ position: location }\" :key=\"i\"\r\n              @click=\"showPlaceInfo()\">\r\n        <InfoWindow>  <!-- Marker 클릭하면 나오는 부분 -->\r\n          <div id=\"contet\">\r\n            <div id=\"siteNotice\"></div> <!--  -->\r\n              <h1 id=\"firstHeading\" class=\"firstHeading\" v-if=\"detailPlaceInfo\">{{ this.detailPlaceInfo.name }}</h1> <!-- 가게 이름 -->\r\n            <div id=\"bodyContent\">\r\n              <p v-if=\"detailPlaceInfo\">  <!-- 도로명 주소 formatted_address -->\r\n                {{ this.detailPlaceInfo.formatted_address }}\r\n              </p>\r\n              <p v-if=\"detailPlaceInfo\">  <!-- 별점 rating -->\r\n                {{ this.detailPlaceInfo.rating }}\r\n              </p>\r\n              <div> <!-- 이미지 img -->\r\n                <img :src=\"generateImgUrl\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </InfoWindow>\r\n      </Marker>\r\n    </MarkerCluster>\r\n  </GoogleMap>\r\n</template>\r\n\r\n<script>\r\nimport {defineComponent} from 'vue'\r\nimport {GoogleMap, Marker, MarkerCluster, InfoWindow} from 'vue3-google-map'\r\n\r\nexport default defineComponent({\r\n  components: {GoogleMap, Marker, MarkerCluster, InfoWindow},\r\n  setup() {\r\n    // googleMap에 Marker 세팅\r\n    const locations = [\r\n      {lat: 37.5593773, lng: 126.832661},\r\n      {lat: 37.55795, lng: 126.8397055},\r\n    ]\r\n\r\n    return { locations }\r\n  },  // setup()\r\n  data() {\r\n    return {\r\n      center : null,  // googleMap의 처음 시작 좌표\r\n      jsonData : null,  // nearbysearch로 얻은 주변 전체 JSON Data\r\n      detailPlaceInfo : null, // place_id로 얻은 한 장소에 대한 JSON Data\r\n      imgUrl : null,\r\n    };\r\n  },  // data()\r\n  async mounted() {\r\n    let parseJsonData;\r\n\r\n    try {\r\n      // getUserLocation()으로 user의 currentLocation을 googleMap center로 설정\r\n      this.center = await this.getUserLocation();\r\n    } catch (error) {\r\n      console.log(\"Error User Location : \" + error);\r\n    }\r\n\r\n    fetch('https://proxy.cors.sh/https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=37.561736,%20126.835419&rankby=distance&name=%EC%82%BC%EA%B2%B9%EC%82%B4&key=AIzaSyB21eMRg-uMRk-i7r27DPDkntXbR5_kvnk', {\r\n      headers: {\r\n        'x-cors-api-key': 'temp_924d232f48d59dabc25af9778ab72f25'\r\n      }\r\n    })\r\n        .then(res => res.json())\r\n        .then(res => {\r\n          parseJsonData = res;\r\n          this.jsonData = parseJsonData.results;\r\n          console.log(\"this.jsondata\")\r\n          console.log(this.jsonData);\r\n          console.log(this.jsonData[1].name);\r\n        });\r\n  },  // mounted()\r\n  computed: {\r\n    generateImgUrl() {\r\n      return `https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photo_reference=${this.imgUrl}&key=AIzaSyB21eMRg-uMRk-i7r27DPDkntXbR5_kvnk`;\r\n    }\r\n  },\r\n  methods: {\r\n    showPlaceInfo: function () {  // place_id로 googleMap JSON Data를 Parsing\r\n      fetch('https://proxy.cors.sh/https://maps.googleapis.com/maps/api/place/details/json?placeid=ChIJP1CJmGGcfDUR7ffziy-8NZA&key=AIzaSyB21eMRg-uMRk-i7r27DPDkntXbR5_kvnk', {\r\n        headers: {\r\n          'x-cors-api-key': 'temp_924d232f48d59dabc25af9778ab72f25'\r\n        }\r\n      })\r\n          .then(res => res.json())\r\n          .then(res => {\r\n            this.detailPlaceInfo = res.result;\r\n            console.log(this.detailPlaceInfo.name);\r\n            console.log(this.detailPlaceInfo.place_id);\r\n            console.log(this.detailPlaceInfo.geometry.location.lat);\r\n            console.log(this.detailPlaceInfo.geometry.location.lng);\r\n          })\r\n    },  // showPlaceInfo\r\n    getUserLocation: function () {  // User의 현재 위치 가져오기\r\n      return new Promise((resolve, reject) => {\r\n        navigator.geolocation.getCurrentPosition(\r\n            (position) => {\r\n              const location = {\r\n                enableHighAccuracy: true, // 정확도 향상\r\n                lat: position.coords.latitude,\r\n                lng: position.coords.longitude,\r\n              };\r\n              console.log(\"getUserLocation => \" + location.lat);\r\n              console.log(\"getUserLocation => \" + location.lng);\r\n              resolve(location);\r\n            },\r\n            (error) => {\r\n              reject(error);\r\n            }\r\n        )\r\n      })\r\n    } // getUserLocation\r\n  },  // method()\r\n})\r\n</script>"],"mappings":";;EAYeA,EAAE,EAAC;AAAQ;gCACdC,mBAAA,CAA2B;EAAtBD,EAAE,EAAC;AAAY;;;EACdA,EAAE,EAAC,cAAc;EAACE,KAAK,EAAC;;;EACzBF,EAAE,EAAC;AAAa;;;;;;;;;;;;;uBAd/BG,YAAA,CA6BYC,oBAAA;IA5BR,SAAO,EAAC,yCAAyC;IACjDC,KAAkC,EAAlC;MAAA;MAAA;IAAA,CAAkC;IACjCC,MAAM,EAAEC,IAAA,CAAAD,MAAM;IACdE,IAAI,EAAE,EAAE;IACTC,QAAQ,EAAC;;sBAEX,MAqBgB,CArBhBC,YAAA,CAqBgBC,wBAAA;wBApBN,MAAkC,E,kBAA1CC,mBAAA,CAmBSC,SAAA,QAAAC,WAAA,CAnBuBP,IAAA,CAAAQ,SAAS,GAAzBC,QAAQ,EAAEC,CAAC;6BAA3Bd,YAAA,CAmBSe,iBAAA;UAnBmCC,OAAO;YAAAC,QAAA,EAAcJ;UAAQ;UAAKK,GAAG,EAAEJ,CAAC;UAC3EK,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEjB,IAAA,CAAAkB,aAAa;;4BAC3B,MAgBa,CAhBbf,YAAA,CAgBagB,qBAAA;8BAhBC,MAA2B,CAA3BC,mBAAA,wBAA2B,EACvC1B,mBAAA,CAcM,OAdN2B,UAcM,GAbJC,UAA2B,EAACF,mBAAA,MAAS,EACcpB,IAAA,CAAAuB,eAAe,I,cAAhElB,mBAAA,CAAsG,MAAtGmB,UAAsG,EAAAC,gBAAA,MAA5BF,eAAe,CAACG,IAAI,oB,mCAASN,mBAAA,WAAc,EACvH1B,mBAAA,CAUM,OAVNiC,UAUM,GATK3B,IAAA,CAAAuB,eAAe,I,cAAxBlB,mBAAA,CAEI,KAAAuB,UAAA,GAFwBR,mBAAA,8BAAiC,E,iBAAA,GAC3D,GAAAK,gBAAA,MAAQF,eAAe,CAACM,iBAAiB,iB,wCAElC7B,IAAA,CAAAuB,eAAe,I,cAAxBlB,mBAAA,CAEI,KAAAyB,UAAA,GAFwBV,mBAAA,eAAkB,E,iBAAA,GAC5C,GAAAK,gBAAA,MAAQF,eAAe,CAACQ,MAAM,iB,wCAEhCrC,mBAAA,CAEM,cAFA0B,mBAAA,aAAgB,EACpB1B,mBAAA,CAA6B;cAAvBsC,GAAG,EAAEhC,IAAA,CAAAiC;YAAc,wBAAAC,UAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}