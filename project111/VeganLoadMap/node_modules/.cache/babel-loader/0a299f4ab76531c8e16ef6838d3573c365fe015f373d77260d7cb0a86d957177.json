{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { reactive } from \"vue\";\nimport axios from \"axios\";\nimport router from \"@/scripts/router\";\nimport Header2 from \"@/components/header/Header2.vue\";\nexport default {\n  name: \"ShopInsert\",\n  components: {\n    Header2\n  },\n  methods: {\n    onFileChange() {\n      this.selectedFile = this.$refs.fileInput.files[0];\n      // const name = this.selectedFile.name;\n      const formData = new FormData();\n      formData.append(\"file\", this.selectedFile);\n      axios.post(\"/api/images/upload\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      // window.open(`/api/images/download/${name}`);\n      this.state.form.image = this.selectedFile.name;\n    }\n  },\n  data() {\n    return {\n      selectedFile: null\n    };\n  },\n  setup() {\n    const state = reactive({\n      flag: 0,\n      form: {\n        storename: \"\",\n        detailinfo: \"\",\n        category: \"\",\n        location: \"\",\n        phonenumber: \"\",\n        image: \"\"\n      }\n    });\n    const exist = exist => {\n      if (state.form.storename == \"\") {\n        window.alert(\"가게 이름을 입력해주세요\");\n        router.push({\n          path: \"/shop_insert\"\n        });\n      } else {\n        axios.get(`/api/shop/register/join/${exist}`).then(res => {\n          if (res.data == 0) {\n            window.alert(\"중복된 가게 이름입니다. 지점명을 붙여서 다시 입력해주세요\");\n          } else {\n            window.alert(\"등록 가능한 가게 입니다\");\n            state.flag = 1;\n          }\n          router.push({\n            path: \"/shop_insert\"\n          });\n        });\n      }\n    };\n    const register = () => {\n      if (state.form.storename == \"\") {\n        window.alert(\"가게 이름을 입력해주세요\");\n        router.push({\n          path: \"/shop_insert\"\n        });\n      } else if (state.form.detailinfo == \"\") {\n        window.alert(\"가게 상세정보를 입력해주세요\");\n        router.push({\n          path: \"/shop_insert\"\n        });\n      } else if (state.form.category == \"\") {\n        window.alert(\"가게 카테고리를 입력해주세요\");\n        router.push({\n          path: \"/shop_insert\"\n        });\n      } else if (state.form.location == \"\") {\n        window.alert(\"가게 위치를 입력해주세요\");\n        router.push({\n          path: \"/shop_insert\"\n        });\n      } else if (state.form.phonenumber == \"\") {\n        window.alert(\"가게 전화번호를 입력해주세요\");\n        router.push({\n          path: \"/shop_insert\"\n        });\n      } else if (state.form.image == \"\") {\n        window.alert(\"가게 이미지 1장 이상은 첨부해주세요\");\n        router.push({\n          path: \"/shop_insert\"\n        });\n      } else {\n        axios.post(\"/api/shop/register/join\", state.form).then(() => {\n          window.alert(\"가게가 등록 되었습니다\");\n          router.push({\n            path: \"/home_store\"\n          });\n        });\n      }\n    };\n    return {\n      state,\n      register,\n      exist\n    };\n  }\n};","map":{"version":3,"names":["reactive","axios","router","Header2","name","components","methods","onFileChange","selectedFile","$refs","fileInput","files","formData","FormData","append","post","headers","state","form","image","data","setup","flag","storename","detailinfo","category","location","phonenumber","exist","window","alert","push","path","get","then","res","register"],"sources":["/Users/soohykim/Desktop/front/src/components/shop/ShopInsert.vue"],"sourcesContent":["<template>\n  <Header2 />\n  <div id=\"wrapper\">\n    <div id=\"container\">\n      <div class=\"card shadow-sm\" id=\"cat\">\n        <div class=\"card-body\" >\n          <div><h2 class=\"cattitle\">가게 신규 등록</h2></div>\n          <div>\n            <ul>\n              <hr>\n              <div  class=\"memberform\">\n                <b></b><br>\n                <div>\n                  <b>가게 이름</b><input type=\"text\" placeholder=\"상호명\" id=\"storename\" v-model=\"state.form.storename\" required/><br>\n                  <button class=\"double\" @click=\"exist(state.form.id)\">중복 확인</button>\n                </div>\n                <b>가게 정보</b><input type=\"text\" placeholder=\"가게 소개\" id=\"detailinfo\" v-model=\"state.form.detailinfo\" /><br>\n                <b>카테고리</b><input type=\"text\" placeholder=\"한식/중식/양식/퓨전/카페\" id=\"category\" v-model=\"state.form.category\" /><br>\n                <b>가게 위치</b><input type=\"text\" placeholder=\"주소\" id=\"location\" v-model=\"state.form.location\" /><br>\n                <b>가게 전화번호</b><input type=\"text\" placeholder=\"가게 전화번호 (- 없이 입력)\" id=\"phonenumber\" v-model=\"state.form.phonenumber\" /><br>\n                <b>가게 이미지 파일 첨부</b><input type=\"file\" ref=\"fileInput\" @change=\"onFileChange\" /><br>\n                <hr>\n                <button text=\"button\" class=\"bookbtn\" @click=\"register()\">등록</button>\n              </div>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport {reactive} from \"vue\";\nimport axios from \"axios\";\nimport router from \"@/scripts/router\";\nimport Header2 from \"@/components/header/Header2.vue\";\n\nexport default {\n  name: \"ShopInsert\",\n  components: {Header2},\n  methods: {\n    onFileChange() {\n      this.selectedFile = this.$refs.fileInput.files[0];\n      // const name = this.selectedFile.name;\n      const formData = new FormData();\n      formData.append(\"file\", this.selectedFile);\n      axios.post(\"/api/images/upload\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n        },\n      });\n      // window.open(`/api/images/download/${name}`);\n      this.state.form.image = this.selectedFile.name;\n    }\n  },\n  data() {\n    return {\n      selectedFile: null,\n    };\n  },\n  setup() {\n    const state = reactive({\n      flag: 0,\n      form :{\n        storename: \"\",\n        detailinfo: \"\",\n        category: \"\",\n        location: \"\",\n        phonenumber: \"\",\n        image: \"\"\n      }\n    })\n\n    const exist = (exist) => {\n      if (state.form.storename == \"\") {\n        window.alert(\"가게 이름을 입력해주세요\");\n        router.push({path: \"/shop_insert\"});\n      } else {\n        axios.get(`/api/shop/register/join/${exist}`, ).then((res)=> {\n          if (res.data == 0) {\n            window.alert(\"중복된 가게 이름입니다. 지점명을 붙여서 다시 입력해주세요\");\n          } else {\n            window.alert(\"등록 가능한 가게 입니다\");\n            state.flag = 1;\n          }\n          router.push({path: \"/shop_insert\"});\n        })\n      }\n    }\n\n    const register = () => {\n      if (state.form.storename == \"\") {\n        window.alert(\"가게 이름을 입력해주세요\");\n        router.push({path: \"/shop_insert\"});\n      } else if (state.form.detailinfo == \"\") {\n        window.alert(\"가게 상세정보를 입력해주세요\");\n        router.push({path: \"/shop_insert\"});\n      } else if (state.form.category== \"\") {\n        window.alert(\"가게 카테고리를 입력해주세요\");\n        router.push({path: \"/shop_insert\"});\n      } else if (state.form.location == \"\") {\n        window.alert(\"가게 위치를 입력해주세요\");\n        router.push({path: \"/shop_insert\"});\n      } else if (state.form.phonenumber == \"\") {\n        window.alert(\"가게 전화번호를 입력해주세요\");\n        router.push({path: \"/shop_insert\"});\n      } else if (state.form.image == \"\") {\n        window.alert(\"가게 이미지 1장 이상은 첨부해주세요\");\n        router.push({path: \"/shop_insert\"});\n      } else {\n        axios.post(\"/api/shop/register/join\", state.form).then(()=> {\n          window.alert(\"가게가 등록 되었습니다\");\n          router.push({path: \"/home_store\"});\n        })\n      }\n    }\n    return {state, register, exist}\n  }\n}\n</script>\n\n<style scoped>\n\n#wrapper {\n  background: #f1f1f1;\n}\n#container{\n  position: relative;\n  max-width: 90%;\n  min-width: 60%;\n  margin: 0 0 0 10%;\n}\n\n.datepicker-container {\n  width: 40%;\n  padding: 30px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.datepicker {\n  padding : 20px 5px;\n}\n\n.formatDate {\n  margin-top: 10px;\n}\n.fieldbook div{\n  display: flex;\n  gap:10px;\n}\n.field{\n  gap:10px;\n}\n.utime {\n  display: flex;\n  align-items: center;\n  padding: 10px;\n}\n\n.time {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n}\n\n.time button {\n  margin: 0;\n}\n#timebtn{\n  padding : 10px;\n  border-radius: 8px;\n  border : 3px solid lightgray;\n}\n.memberform input:not(input[type=radio]){\n  border: 1px solid #dadada;\n  padding: 15px;\n  width: 100%;\n  margin-bottom: 5px;\n  border-radius: 6px;\n}\n.memberform{\n  padding : 0 30px 30px 30px;\n}\n.bookbtn{\n  background-color: darkolivegreen;\n  color: white;\n  padding: 15px;\n  width: 100%;\n  margin-bottom: 5px;\n  border-radius: 6px;\n  font-weight: 700;\n  font-size: 15px;\n  border : 1px solid white;\n}\n#cat{\n  width : 60%;\n  height : auto;\n  margin : auto;\n  text-align: left;\n}\n.cattitle{\n  padding : 20px;\n  font-weight: 700;\n}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}